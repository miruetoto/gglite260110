---
title: "에이전틱AI / gglite"
bibliography: ref.bib
author: "최규빈"
subtitle: "다중척도 워크샵 2026"
institute: "전북대학교 통계학과"
date: "01/10/2026"
title-block-style: default
title-block-banner: true
csl: ieee.csl
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE, fig.width=7, fig.height=4)

# Python 설정 (.venv 사용)
library(reticulate)
use_python(".venv/bin/python", required = TRUE)

# gglite 패키지 설치 및 로드
pkg_path <- file.path(".", "gglite", "github", "gglite")
if (dir.exists(pkg_path)) {
  devtools::load_all(pkg_path, quiet = TRUE)
} else {
  devtools::install_github("seoyeonc/gglite", force = TRUE)
}

library(ggplot2)
library(gglite)
library(dplyr)
library(patchwork)
```

### 목차

1. 생성형AI 소개: 에이전틱 코딩 위주
2. 새로운 시각화 패키지 `gglite` 소개

# 도구1: 에이전틱AI

---

### 생성형AI의 발전

- 모델: ChatGPT vs Claude vs Gemini
  - 저는 Claude를 선호합니다.
- IDE: Cursor vs Windsurf ($\to$ Antigravity)
  - 저는 Positron을 씁니다. 왜?? 
- 에이전틱AI: Codex vs Claude Code vs Gemini CLI
  - 저는 Claude Code를 선호합니다.

---

### 에이전틱 코딩이란?

![Figure: 바이브코딩과 에이전틱 코딩의 차이점 @sapkota2025vibe](figs/AgenticCoding.png)

---

### 제가 이해한 에이전틱 코딩

- 사건: 제 연구실에 있던 정수기에서 물이 샜습니다. 

::: {.panel-tabset}

#### 대화1
![.](figs/정수기1.png){height="1000px"}

#### 대화2
![.](figs/정수기2.png){height="1000px"}

#### 대화3
![.](figs/정수기3.png){height="1000px"}

#### 대화4
![.](figs/정수기4.png){height="1000px"}

:::

---

### 에이전틱 코딩의 활용

`예제1` -- 관심있는 연구논문 정리

::: {.panel-tabset}

#### 이메일1
![](figs/내이메일1.png){height="400px"}

#### 이메일2
![](figs/내이메일2.png){height="400px"}

#### 동영상
{{< video mov1.mov height="600" >}}

:::

---

### 에이전틱 코딩의 활용

`예제2` -- 논문 리비전 대응
  - *현재 폴더중 어딘가에 리뷰어의 메일을 복사한게 있거든? 읽어보고 어떻게 내가 대응하면 좋을지 파악해줘. (내 논문 및 소스코드는 모두 현재 폴더에 있으니까 잘 찾아봐)*

`예제3` -- 시뮬레이션 실행 관리
  - *`run.R` 을 실행하여 시뮬레이션을 하고 싶거든? 그런데 파라메터를 바꿔가면서 결과를 저장해야해. gamma=0~1까지 0.1간격으로 증가시키고 theta=0.01~0.05까지 0.01간격으로 증가시켜서 돌려서 결과저장해줘. CPU의 상황을 보고 병렬처리해줘, 다 돌아가면 메일보내줘.*

`예제4` -- 실험결과 정리 및 요약 
  - *실험결과돌아간것 나한테 리포트해줘, (`xxxx`폴더에 결과있음) 최적값이 뭐야?* + *하나돌리는 얼마나 걸렸어?* + *gamma=0.5에서 값만 알려줄래?*

`예제5` -- LaTeX 표 삽입 
  - *gamma<0.5인 결과만 선택해서 `paper.tex`의 섹션3의 적당한 위치에 표를  정리해서 넣어줘. (그림을 붙여넣으며) 표는 첨부된 파일과 비슷한 양식으로 만들어줘.* 

### 에이전틱 코딩의 활용

`예제6` -- 그림 그리기

::: {.panel-tabset}

#### 복잡한그림1
![](figs/복잡한그림1.pdf){height="400px"}

#### 복잡한그림2
![](figs/복잡한그림2.pdf){height="400px"}

#### 간단한그림
```{r}
#| echo: false
#| fig-height: 4
x = 1:10
y = 2*x
plot(x, y)
```

::: 


# 도구2: gglite

*본 패키지는 최서연(전북대 통계학과)과 공동 개발* 

---

### gglite란?

**gglite**: ggplot2 @wickham2016ggplot2 의 **보완재**로서, 빠른 탐색적 그래픽 생성을 위한 경량 R 패키지

- ggplot2 생태계와 **완전한 상호운용성** 유지 (함께 사용)
- qplot이 목표했던 "빠른 시각화"를 **제대로 완성**
- **qplot의 대체재**: qplot의 한계를 극복한 직관적 인터페이스

---

### 개발 배경

**ggplot2의 한계**

- 탐색적 데이터 분석에서 미적 매핑과 데이터 프레임의 **명시적 지정**이 불필요한 장황함 야기
- Wide-form 데이터 사용 시 `tidyr::pivot_longer()` 등 **사전 변환 필요**

**gglite**

- 벡터, 행렬 등 다양한 입력 형식 직접 지원
- 내부적으로 자동 변환 후 ggplot2 객체 반환
- Base R과 같은 빠른 플로팅 경험 + ggplot2의 세련된 그래픽

---

### 설치방법

**GitHub에서 설치**

```r
devtools::install_github("seoyeonc/gglite")
```

**패키지 로드**

```r
library(gglite)
library(ggplot2)
```

---

### Design Philosophy

1. **Simplicity (단순성)**
   - 일반적인 플로팅 작업을 위한 보일러플레이트 코드 감소

2. **Compatibility (호환성)**
   - 기존 ggplot2 문법 및 확장과의 완전한 호환성 유지

3. **Convenience (편의성)**
   - 타 시각화 패키지의 편리한 기능들을 선별적으로 도입


# Simplicity (단순성)

---

### Simplicity (단순성) - Line

::: {.panel-tabset}

### gglite

::: {.columns}

::: {.column width="50%"}
**입력자료 (Vector)**

```{r}
t = seq(0, 1, length.out = 5000)
f0 = 2; k = 50
y_chirp = sin(2 * pi * (f0 * t + k/2 * t^2))

print(t[1:5]); print(y_chirp[1:5])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
gglite() + line(t, y_chirp)
```
:::

:::

### ggplot2

::: {.columns}

::: {.column width="50%"}
**입력자료 (DataFrame)**

```{r}
t = seq(0, 1, length.out = 5000)
f0 = 2; k = 50
y_chirp = sin(2 * pi * (f0 * t + k/2 * t^2))

df = data.frame(t = t, y = y_chirp)  # 😩😩😩
print(df[1:5, ])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
ggplot(df, aes(x = t, y = y)) + geom_line()
```
:::

:::

### qplot

::: {.columns}

::: {.column width="50%"}
**입력자료 (Vector)**

```{r}
t = seq(0, 1, length.out = 5000)
f0 = 2; k = 50
y_chirp = sin(2 * pi * (f0 * t + k/2 * t^2))

print(t[1:5]); print(y_chirp[1:5])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
qplot(t, y_chirp, geom = "line")
```
:::

:::

:::

---

### Simplicity (단순성) - Boxplot

::: {.panel-tabset}

### gglite

::: {.columns}

::: {.column width="50%"}
**입력자료 (Vector)**

```{r}
set.seed(42)
y = rnorm(30, 10, 2)

print(y[1:5])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
gglite() + boxplot(y)
```
:::

:::

### ggplot2

::: {.columns}

::: {.column width="50%"}
**입력자료 (DataFrame)**

```{r}
set.seed(42)
y = rnorm(30, 10, 2)

df = data.frame(y = y)  # 😩😩😩
print(df[1:5, , drop = FALSE])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
ggplot(df, aes(y = y)) + geom_boxplot()
```
:::

:::

### qplot

::: {.columns}

::: {.column width="50%"}
**입력자료 (Vector)**

```{r}
set.seed(42)
y = rnorm(30, 10, 2)

print(y[1:5])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
qplot(y = y, geom = "boxplot")
```
:::

:::

:::

---

### Simplicity (단순성) - Barplot

::: {.panel-tabset}

### gglite

::: {.columns}

::: {.column width="50%"}
**입력자료 (Vector)**

```{r}
y = c(1, 2, 5, 4)

print(y)
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
gglite() + col(y)
```
:::

:::

### ggplot2

::: {.columns}

::: {.column width="50%"}
**입력자료 (DataFrame)**

```{r}
y = c(1, 2, 5, 4)

df = data.frame(x = 1:4, y = y)  # 😩😩😩
print(df)
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
ggplot(df, aes(x = x, y = y)) + geom_col()
```
:::

:::

### qplot

::: {.columns}

::: {.column width="50%"}
**입력자료 (Vector)**

```{r}
y = c(1, 2, 5, 4)

print(y)
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 3
qplot(x = 1:4, y = y, geom = "col")
```
:::

:::

:::

# Compatibility (호환성)

---

### Compatibility (호환성)

::: {.panel-tabset}

### gglite

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
data(Nile)
df = data.frame(
    year = 1871:1970,
    flow = as.numeric(Nile)
)
dam_year = 1898
dam_flow = df$flow[df$year == dam_year]
print(df[1:2, ]); print(dam_year); print(dam_flow)
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 1.8
gglite(data=df) +
  geom_line(aes(x=year, y=flow), alpha=0.5) +
  geom_vline(xintercept=dam_year, linetype=2) +
  # 😊😊😊
  point(dam_year, dam_flow, col=2, cex=2) +
  annotate(
    "text", x = dam_year, y = dam_flow + 150,
    label = "Dam construction (1898)",
)
```
:::

:::

### qplot

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
data(Nile)
df = data.frame(
    year = 1871:1970,
    flow = as.numeric(Nile)
)
dam_year = 1898
dam_flow = df$flow[df$year == dam_year]
print(df[1:2, ]); print(dam_year); print(dam_flow)
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 1.8
gglite(data=df) +
  geom_line(aes(x=year, y=flow), alpha=0.5) +
  geom_vline(xintercept=dam_year, linetype=2) +
  # 😭😭😭
  qplot(dam_year, dam_flow, geom="point") +
  annotate(
    "text", x = dam_year, y = dam_flow + 150,
    label = "Dam construction (1898)"
)
```
:::

:::

### ggplot2

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
data(Nile)
df = data.frame(
    year = 1871:1970,
    flow = as.numeric(Nile)
)
dam_year = 1898
dam_flow = df$flow[df$year == dam_year]
print(df[1:2, ]); print(dam_year); print(dam_flow)
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 1.8
ggplot(df, aes(x=year, y=flow)) +
  geom_line(alpha=0.5) +
  geom_vline(xintercept=dam_year, linetype=2) +
  # 😩😩😩
  geom_point(data=df[df$year == dam_year, ]) +
  annotate(
    "text", x = dam_year, y = dam_flow + 150,
    label = "Dam construction (1898)"
)
```
:::

:::

:::

# Convenience (편의성)

---

### Convenience (편의성) - 행렬 (wideform) 입력 허용 

::: {.panel-tabset}

### gglite

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
y_matrix = cbind(
  series1 = cumsum(rnorm(100)),
  series2 = cumsum(rnorm(100))
)
print(y_matrix[1:3, ])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 2
# 😊😊😊
gglite() + line(y_matrix)
```
:::

:::

### ggplot2

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
y_matrix = cbind(
  series1 = cumsum(rnorm(100)),
  series2 = cumsum(rnorm(100))
)
# 😩😩😩 Wide → Long 변환 필요
df_long = data.frame(
  x = rep(1:100, 2),
  y = c(y_matrix[,1], y_matrix[,2]),
  label = rep(c("series1", "series2"), each = 100)
)
print(df_long[c(1:2, 101:102), ])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 2
ggplot(df_long, aes(x = x, y = y, col = label)) +
  geom_line()
```
:::

:::

### matplotlib

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{python}
#| eval: false
import numpy as np
np.random.seed(42)
y_matrix = np.column_stack([
    np.cumsum(np.random.randn(100)),
    np.cumsum(np.random.randn(100))
])
print(y_matrix[:3, :])
```

```{python}
#| echo: false
import numpy as np
np.random.seed(42)
y_matrix = np.column_stack([
    np.cumsum(np.random.randn(100)),
    np.cumsum(np.random.randn(100))
])
print(y_matrix[:3, :])
```
:::

::: {.column width="50%"}
**시각화**

```{python}
#| eval: false
import matplotlib.pyplot as plt
# 😊😊😊 Wide-form 직접 지원
plt.plot(y_matrix)
```

```{python}
#| fig-width: 5
#| fig-height: 2
#| echo: false
import numpy as np
import matplotlib.pyplot as plt
np.random.seed(42)
y_matrix = np.column_stack([
    np.cumsum(np.random.randn(100)),
    np.cumsum(np.random.randn(100))
])
plt.plot(y_matrix)
plt.show()
```
:::

:::

### seaborn

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{python}
#| eval: false
import numpy as np
import pandas as pd
np.random.seed(42)
# 😊😊😊 Wide-form DataFrame 직접 사용
df_wide = pd.DataFrame({
    'series1': np.cumsum(np.random.randn(100)),
    'series2': np.cumsum(np.random.randn(100))
})
print(df_wide.head(3))
```

```{python}
#| echo: false
import numpy as np
import pandas as pd
np.random.seed(42)
df_wide = pd.DataFrame({
    'series1': np.cumsum(np.random.randn(100)),
    'series2': np.cumsum(np.random.randn(100))
})
print(df_wide.head(3))
```
:::

::: {.column width="50%"}
**시각화**

```{python}
#| eval: false
import seaborn as sns
# 😊😊😊 Wide-form DataFrame 직접 사용
sns.lineplot(data=df_wide)
```

```{python}
#| fig-width: 5
#| fig-height: 2
#| echo: false
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
np.random.seed(42)
df_wide = pd.DataFrame({
    'series1': np.cumsum(np.random.randn(100)),
    'series2': np.cumsum(np.random.randn(100))
})
sns.lineplot(data=df_wide)
plt.show()
```
:::

:::

:::

---

### Convenience (편의성) - 행렬 (wideform) 입력 허용 (boxplot)

::: {.panel-tabset}

### gglite

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
y_matrix = cbind(
  A = rnorm(50, mean=10),
  B = rnorm(50, mean=15),
  C = rnorm(50, mean=12)
)
print(y_matrix[1:3, ])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 2
# 😊😊😊 Wide-form 직접 지원
gglite() + boxplot(y_matrix)
```
:::

:::

### ggplot2

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
y_matrix = cbind(
  A = rnorm(50, mean=10),
  B = rnorm(50, mean=15),
  C = rnorm(50, mean=12)
)
# 😩😩😩 Long-form 변환 필요
df_long = data.frame(
  group = rep(c("A", "B", "C"), each = 50),
  value = c(y_matrix[,1], y_matrix[,2], y_matrix[,3])
)
print(df_long[c(1:2, 51:52, 101:102), ])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 5
#| fig-height: 2
ggplot(df_long, aes(x = group, y = value, fill = group)) +
  geom_boxplot()
```
:::

:::

### matplotlib

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{python}
#| eval: false
import numpy as np
np.random.seed(42)
y_matrix = np.column_stack([
    np.random.randn(50) + 10,
    np.random.randn(50) + 15,
    np.random.randn(50) + 12
])
print(y_matrix[:3, :])
```

```{python}
#| echo: false
import numpy as np
np.random.seed(42)
y_matrix = np.column_stack([
    np.random.randn(50) + 10,
    np.random.randn(50) + 15,
    np.random.randn(50) + 12
])
print(y_matrix[:3, :])
```
:::

::: {.column width="50%"}
**시각화**

```{python}
#| eval: false
import matplotlib.pyplot as plt
# 😊😊😊 Wide-form 직접 지원
plt.boxplot(y_matrix, labels=['A', 'B', 'C']);
```

```{python}
#| fig-width: 5
#| fig-height: 2
#| echo: false
import numpy as np
import matplotlib.pyplot as plt
np.random.seed(42)
y_matrix = np.column_stack([
    np.random.randn(50) + 10,
    np.random.randn(50) + 15,
    np.random.randn(50) + 12
])
plt.boxplot(y_matrix, labels=['A', 'B', 'C']);
plt.show()
```
:::

:::

### seaborn

::: {.columns}

::: {.column width="50%"}
**입력자료**

```{python}
#| eval: false
import numpy as np
import pandas as pd
np.random.seed(42)
# 😊😊😊 Wide-form DataFrame 직접 사용
df_wide = pd.DataFrame({
    'A': np.random.randn(50) + 10,
    'B': np.random.randn(50) + 15,
    'C': np.random.randn(50) + 12
})
print(df_wide.head(3))
```

```{python}
#| echo: false
import numpy as np
import pandas as pd
np.random.seed(42)
df_wide = pd.DataFrame({
    'A': np.random.randn(50) + 10,
    'B': np.random.randn(50) + 15,
    'C': np.random.randn(50) + 12
})
print(df_wide.head(3))
```
:::

::: {.column width="50%"}
**시각화**

```{python}
#| eval: false
import seaborn as sns
# 😊😊😊 Wide-form DataFrame 직접 사용
sns.boxplot(data=df_wide)
```

```{python}
#| fig-width: 5
#| fig-height: 2
#| echo: false
import numpy as np
import pandas as pd
import seaborn as sns
import matplotlib.pyplot as plt
np.random.seed(42)
df_wide = pd.DataFrame({
    'A': np.random.randn(50) + 10,
    'B': np.random.randn(50) + 15,
    'C': np.random.randn(50) + 12
})
sns.boxplot(data=df_wide)
plt.show()
```
:::

:::

:::

---

### Convenience (편의성) - Matplotlib 스타일 라벨링

::: {.panel-tabset}

#### matplotlib

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{python}
#| eval: false
import numpy as np
np.random.seed(42)
series1 = np.cumsum(np.random.randn(100))
series2 = np.cumsum(np.random.randn(100))
print(series1[:3]); print(series2[:3])
```

```{python}
#| echo: false
import numpy as np
np.random.seed(42)
series1 = np.cumsum(np.random.randn(100))
series2 = np.cumsum(np.random.randn(100))
print(series1[:3]); print(series2[:3])
```
:::

::: {.column width="50%"}
**시각화**

```{python}
#| eval: false
# 😊😊😊 label 파라미터로 범례 자동 생성
plt.plot(series1, color='blue', label='Series 1')
plt.plot(series2, color='red', label='Series 2')
plt.legend()
```

```{python}
#| echo: false
#| fig-width: 5
#| fig-height: 3
import numpy as np
import matplotlib.pyplot as plt
np.random.seed(42)
series1 = np.cumsum(np.random.randn(100))
series2 = np.cumsum(np.random.randn(100))

plt.figure(figsize=(5, 3))
plt.plot(series1, color='blue', label='Series 1')
plt.plot(series2, color='red', label='Series 2')
plt.legend()
plt.show()
```
:::

::::

#### gglite

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
series1 = cumsum(rnorm(100))
series2 = cumsum(rnorm(100))
print(series1[1:3]); print(series2[1:3])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| eval: false
# 😊😊😊 label 파라미터로 범례 자동 생성
gglite() +
  line(1:100, series1, col="blue", label="Series 1") +
  line(1:100, series2, col="red", label="Series 2")
```

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 3
set.seed(42)
series1 = cumsum(rnorm(100))
series2 = cumsum(rnorm(100))

gglite() +
  line(1:100, series1, col="blue", label="Series 1") +
  line(1:100, series2, col="red", label="Series 2")
```
:::

::::

#### ggplot2

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
series1 = cumsum(rnorm(100))
series2 = cumsum(rnorm(100))

# 😩😩😩
df_long = data.frame(
  x = rep(1:100, 2),
  y = c(series1, series2),
  group = rep(c("Series 1", "Series 2"), each = 100)
)
print(df_long[c(1:2, 101:102), ])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| eval: false
ggplot(df_long, aes(x, y, color = group)) +
  geom_line() +
  scale_color_manual(values = c("blue", "red"))
```

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 3
set.seed(42)
series1 = cumsum(rnorm(100))
series2 = cumsum(rnorm(100))

df_long = data.frame(
  x = rep(1:100, 2),
  y = c(series1, series2),
  group = rep(c("Series 1", "Series 2"), each = 100)
)

ggplot(df_long, aes(x, y, color = group)) +
  geom_line() +
  scale_color_manual(values = c("blue", "red")) +
  theme_minimal()
```
:::

::::

:::

---

### Convenience (편의성) - Matplotlib 스타일 라벨링 (회귀분석)

::: {.panel-tabset}

#### gglite

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
x = 1:50; y = 2*x + 10 + rnorm(50, sd=5)
fit = lm(y ~ x)
print(coef(fit))
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| eval: false
# 😊😊😊 label로 범례 자동 생성
gglite() +
  point(x, y, col="black", label="Data") +
  line(x, fitted(fit), col="red", label="Fitted")
```

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 3
set.seed(42); x = 1:50; y = 2*x + 10 + rnorm(50, sd=5); fit = lm(y ~ x)
gglite() + point(x, y, col="black", label="Data") + line(x, fitted(fit), col="red", label="Fitted")
```
:::

::::

#### ggplot2

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
x = 1:50; y = 2*x + 10 + rnorm(50, sd=5)
fit = lm(y ~ x)
# 😩😩😩 Long-form 변환 필요
df = data.frame(x=c(x,x), y=c(y,fitted(fit)), type=rep(c("Data","Fitted"), each=50))
print(df[c(1:2, 51:52), ])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| eval: false
ggplot(df, aes(x, y, col=type)) +
  geom_point(data=df[df$type=="Data",]) +
  geom_line(data=df[df$type=="Fitted",])
```

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 3
set.seed(42); x = 1:50; y = 2*x + 10 + rnorm(50, sd=5); fit = lm(y ~ x)
df = data.frame(x=c(x,x), y=c(y,fitted(fit)), type=rep(c("Data","Fitted"), each=50))
ggplot(df, aes(x, y, col=type)) + geom_point(data=df[df$type=="Data",]) + geom_line(data=df[df$type=="Fitted",])
```
:::

::::

#### base R

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
set.seed(42)
x = 1:50; y = 2*x + 10 + rnorm(50, sd=5)
fit = lm(y ~ x)
print(coef(fit))
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| eval: false
plot(x, y); lines(x, fitted(fit), col="red")
# 😩😩😩 legend() 수동 설정
legend("topleft", c("Data","Fitted"), pch=c(1,NA), lty=c(NA,1), col=c(1,2))
```

```{r}
#| echo: false
#| fig-width: 5
#| fig-height: 3
set.seed(42); x = 1:50; y = 2*x + 10 + rnorm(50, sd=5); fit = lm(y ~ x)
plot(x, y); lines(x, fitted(fit), col="red")
legend("topleft", c("Data","Fitted"), pch=c(1,NA), lty=c(NA,1), col=c(1,2))
```
:::

::::

:::

---

### Convenience (편의성) - 객체지향적 시각화

::: {.panel-tabset}

#### gglite

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
t1 = seq(0, 0.5, length.out=500)
y1 = sin(2*pi*30*t1)
t2 = seq(0.5, 1, length.out=500)
y2 = sin(2*pi*60*t2)
print(t1[1:5]);print(t2[1:5]);print(y1[1:5]);print(y2[1:5])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| fig-width: 7
#| fig-height: 2.5
g = gglite()
L1 = line(t1, y1, col='steelblue')
L2 = line(t2, y2, col='coral')

(g + L1) | (g + L2) | (g + L1 + L2)
```

:::

::::

#### ggplot2

:::: {.columns}

::: {.column width="50%"}
**입력자료**

```{r}
t1 = seq(0, 0.5, length.out=500)
y1 = sin(2*pi*30*t1)
t2 = seq(0.5, 1, length.out=500)
y2 = sin(2*pi*60*t2)
d1 = data.frame(x=t1, y=y1)
d2 = data.frame(x=t2, y=y2)
print(d1[1:2,]);print(d2[1:2,])
```
:::

::: {.column width="50%"}
**시각화**

```{r}
#| eval: false
g = ggplot()
L1 = geom_line(data=d1, aes(x, y), col='steelblue')
L2 = geom_line(data=d2, aes(x, y), col='coral')

(g + L1) | (g + L2) | (g + L1 + L2)
```

```{r}
#| echo: false
#| fig-width: 7
#| fig-height: 2.5
g = ggplot()
t1 = seq(0, 0.5, length.out=500); y1 = sin(2*pi*30*t1)
t2 = seq(0.5, 1, length.out=500); y2 = sin(2*pi*60*t2)
d1 = data.frame(x=t1, y=y1); d2 = data.frame(x=t2, y=y2)
L1 = geom_line(data=d1, aes(x, y), col='steelblue')
L2 = geom_line(data=d2, aes(x, y), col='coral')
((g + L1) | (g + L2) | (g + L1 + L2)) 
```
:::

::::

:::

- *서브플랏은 [`patchwork`](https://patchwork.data-imaginist.com/) 사용*

# 감사합니다

---



### References
